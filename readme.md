# gen-const
这是一个golang代码生成工具。

### 如何安装
```shell
go install github.com/jinfeijie/gen-const@latest
```

### 如何使用
如有需要，你可以使用如下示例来帮助理解
1. 创建一个golang文件 `test.go`
```golang
package exp

type HttpCode int

//go:generate gen-const -type HttpCode
const (
	respOk   = HttpCode(0)   // 成功
	respFail = HttpCode(500) // 失败
)
```

2. 在命令行中运行
```shell
go generate test.go
```

或者点击编辑器执行按键

![](https://github.com/jinfeijie/gen-const/assets/8290380/8ab4e5e9-5440-4759-ae69-5ae0b8b87b83)

3. 将会生成文件`httpcode_gen.go`
```golang
// Code generated by "gen-const -type HttpCode"; DO NOT EDIT.
// 代码文件由 "gen-const -type HttpCode" 生成; 不要编辑本代码文件。

package exp

import "fmt"

type HttpCodeType struct {
	Val int
	Msg string
}

func (receiver *HttpCodeType) GetVal() int {
	return receiver.Val
}

func (receiver *HttpCodeType) GetMsg() string {
	return receiver.Msg
}

func HttpCodeFunc(val int, msg string) *HttpCodeType {
	return &HttpCodeType{
		Val: val,
		Msg: msg,
	}
}

func (receiver *HttpCodeType) String() string {
	return "HttpCodeType (Val: " + fmt.Sprintf("%+v", receiver.Val) + ", Msg: " + receiver.Msg + ")"
}

var (
	RespOkHttpCode   = HttpCodeFunc(0, "成功")
	RespFailHttpCode = HttpCodeFunc(500, "失败")
)
```

### 工具示例

[exp](./exp)

### 工具原理

[https://jinfeijie.cn/post-2112252258](https://jinfeijie.cn/post-2112252258)

